### 운영체제

- 프로세스와 스레드
    - 프로세스
        - 프로세스가 무엇인지 설명해보세요
            
            실행 중인 프로그램으로, 디스크로부터 메모리에 적재되어 CPU의 할당을 받은 작업의 단위입니다. 즉, 운영체제로부터 시스템 자원을 할당받습니다.
            
        - 어떤 자원을 할당받나요?
            
            CPU 시간, 운영되기 위한 주소 공간, Code/Data/Stack/Heap의 구조로 되어있는 독립된 메모리 영역을 할당받습니다.
            
            **→ 운영되기 위한 주소 공간과 독립된 메모리 영역은 동일한 것으로 생각됨**
            
        - 프로세스와 스레드 사이의 관계는 어떻게되나요?
            
            기본적으로 프로세스마다 메인 스레드라고 하는 최소 1개의 스레드를 갖습니다.
            
        - 프로세스와 프로세스 사이의 관계는 어떻게되나요?
            
            한 프로세스는 다른 프로세스의 변수나 자료구조에 접근할 수 없으며, 접근을 위해서는 IPC 통신이 필요합니다.
            
            - IPC 통신이란? 파이프, 파일, 소켓 등을 이용한 통신 방법
        - PCB란 무엇인가요?
            
            특정 프로세스에 대한 중요한 정보를 저장하고 있는 커널 내의 자료구조로, 프로세스 제어 블록이라고 불립니다.
            
        - PCB는 어떻게 생성되나요?
            
            OS는 프로세스를 관리하기 위해 프로세스의 생성과 동시에 고유한 PCB를 생성합니다.
            
        - 프로세스 전환 발생시 PCB에 어떤 일이 생기나요?
            
            프로세스는 CPU를 할당 받아 작업을 처리합니다. 이때 프로세스 전환 발생시 진행하던 작업을 저장하고 CPU를 반환해야 하는데, 작업의 진행 상황을 모두 PCB에 저장합니다. 이후 CPU 재할당시 PCB에 저장되었던 내용을 불러와 종료되었던 시점부터 다시 작업을 수행합니다.
            
        - PCB에는 중요한 정보가 저장된다고 하였는데, 예를들면 어떤게 있나요?
            
            프로세스를 식별하는 PID, 프로세스 상태, 프로세스가 다음에 실행할 명령어의 주소인 PC, CPU 레지스터, CPU 스케쥴링 정보등이 존재합니다.
            
        - 프로세스 상태에는 어떤것들이 있죠?
            
            new, ready, running, waiting, terminated 등이 있습니다
            
    - 스레드
        - 스레드가 무엇인지 설명해보세요
            
            프로세스의 실행단위로, 한 프로세스 내에서 동작하는 여러 실행 흐름으로 프로세스 내의 주소 공간이나 자원을 공유할 수 있습니다
            
        - 어떤 자원을 할당받나요?
            
            Stack 영역, PC 레지스터를 따로 할당받습니다.
            
        - 스택에는 어떤 데이터가 저장되나요?
            
            함수 호출시 전달되는 인자, 복귀 주소값, 함수 내에서 선언하는 변수 등이 저장됩니다.
            
        - 스택을 스레드마다 독립적으로 할당하는 이유는 무엇인가요?
            
            스레드는 독립적인 실행 흐름의 한 단위이기 때문입니다.
            
        - PC 레지스터를 스레드마다 독립적으로 할당하는 이유는 무엇인가요?
            
            PC 값은 스레드가 명령어의 어디까지 수행했는지를 나타내고, 스레드는 독립적인 실행의 단위이기 때문에 독립적으로 할당합니다.
            
        - 스레드와 스레드 사이의 관계는 어떻게되나요?
            
            한 스레드가 프로세스의 자원을 변경하면, 다른 스레드도 그 변경 결과를 즉시 확인할 수 있습니다.
            
    - 멀티 프로세스
        - 멀티 프로세스의 장점은 무엇인지 설명해보세요
            
            프로세스는 독립적이므로, 하나의 프로세스가 죽어도 그 이상으로 영향이 확산되지 않는다.
            
        - 멀티 프로세스의 단점은 무엇인지 설명해보세요
            
            컨텍스트 스위칭에서 오버헤드가 발생합니다. 프로세스간은 공유하는 메모리가 없기 때문에 캐시 메모리 초기화등의 무거운 작업이 진행되고 많은 시간이 소모되는 등의 오버헤드가 발생할 문제가 있습니다.
            
            또한 프로세스들 사이에서는 변수나 자료구조를 공유할 수 없습니다. 이를 위해서는 IPC라는 별도의 통신 기법이 필요한데, 사용성이 좋지 않습니다.
            
    - 멀티 스레드
        - 멀티 프로세스와 비교해 어디서 쓰이는지 말해보세요
            
            윈도우, 리눅스 등 많은 OS들이 멀티 프로세싱을 지원하고 있지만 멀티 스레딩을 기본으로 합니다.
            
            OS외에 다른 예시로는 웹 서버가 있습니다.
            
        - 멀티 스레딩의 장점은 무엇인지 설명해보세요
            
            스레드 간 통신시 전역 변수의 공간 또는 동적으로 할당된 공간인 Heap 영역을 이용해 데이터를 주고 받으므로 통신 방법이 간단합니다.
            
            컨텍스트 스위칭에서 캐시 메모리를 비울 필요가 없기 때문에 비용이 더 적고 빠릅니다.
            
        - 멀티 스레드의 단점은 무엇인지 설명해보세요
            
            스레드간 공유 영역이 많기 때문에 어떤 스레드가 다른 스레드에서 사용중인 변수나 자료구조에 접근하여 엉뚱한 값을 읽어오거나 수정할 수 있습니다. 즉, 동기화에 문제가 발생할 수 있습니다.
            
            따라서 주의 깊은 설계가 필요하며 디버깅이 까다롭습니다.
            
            또한 프로세스에 비해 안정적이지 않습니다.
            
    - thread safe(thread safe, 멀티스레딩, 동기화 다 같은 맥락)
        - thread safe라는 말이 어떤것을 의미하나요?
            
            멀티스레드 환경에서 여러 스레드가 동시에 하나의 객체 및 변수에 접근할 때, 의도한 대로 동작하는 것을 의미합니다.
            
        - 어떻게 thread safe하게 구현하나요?
            
            공유 자원에 접근하는 임계영역을 동기화 기법으로 제어해줘야 합니다. 이를 상호배제라고 하고, 뮤텍스나 세마포어같은 기법이 존재합니다.
            
        - Reentrant 하다는 의미는 무엇인가요?
            
            어떤 함수가 Reentrant 하다는 것은 여러 스레드가 동시에 접근해도 언제나 같은 실행 결과를 보장한다는 의미입니다.
            
            이를 구현하기 위해서는 공유자원을 사용하지 않으면 됩니다. 예시로 정적변수나 전역변수를 사용하거나 반환하면 안되고, 호출 시 제공된 매개변수 만으로 동작해야 합니다.
            
            따라서 Reentran하다면 thread safe하지만 그 역은 성립하지 않습니다.
            
- 동기화 문제
    - 동기화란 무엇입니까?
        
        여러 시스템 자원을 공유가 가능한 스레드의 특성 때문에 예상치 못한 결과가 나타날 수 있는데, 이를 방지하기 위해 여러 스레드에게 하나의 자원에 대한 처리 권한을 주거나 순서를 조정하는 기법입니다.
        
    - 스레드 동기화 방법에 대해 설명해보세요
        
        먼저 실행 순서의 동기화가 있습니다. 다음으로 실행 순서와 상관없이 한 순간에 메모리에 하나의 스레드만 접근 가능하게 하는 동기화가 있습니다.
        
        이를 구체적으로 실행하기 위해선, 유저 모드의 동기화와 커널 모드의 동기화를 사용할 수 있습니다.
        
    - 유저 모드의 동기화란 무엇인가요?
        
        커널의 코드를 실행하지 않는 동기화 기법으로 성능상 이점이 있으나 기능의 제한이 존재합니다.
        
    - 임계 구역 기반의 동기화란 무엇인가요?
        
        유저 모드의 동기화의 종류로, 크리티컬 섹션 오브젝트라는 열쇠를 통해 다른 스레드들을 블로킹하는 방식입니다.
        
    - 인터락 함수 기반의 동기화란 무엇인가요?
        
        유저 모드의 동기화의 종류로, 함수 내부적으로 한 순간에 하나의 스레드에 의해서만 실행되도록 동기화하는 방식입니다. 임계 구역 기반의 동기화도 내부적으로 인터락 함수를 기반으로 구현됩니다.
        
    - 커널 모드의 동기화란 무엇인가요?
        
        커널에서 제공하는 동기화 기능을 이용하는 방법입니다. 커널 모드로의 변경이 필요하고 이는 성능 저하로 이어지지만 다양한 기능을 활용할 수 있습니다.
        
    - 세마포어란 무엇인가요?
        
        공유된 자원의 데이터를 여러 프로세스, 스레드가 접근하는 것을 막는 기법입니다. 이를 판단할 수 있게 동시에 접근할 수 있는 갯수를 가지고 있는 Counter를 말합니다. 
        
    - 스레드나 프로세스가 세마포어를 멤버변수 등으로 소유할 수 있나요?
        
        아니요. 따라서 세마포어를 소유하지 않은 스레드가 세마포어를 해제할 수 있는 문제가 발생할 수 있습니다.
        
    - 뮤텍스란 무엇인가요?
        
        세마포어와 비슷하지만 뮤텍스 객체를 두 스레드가 동시에 사용할 수는 없다는 점에서 차이가 있습니다. 또한 세마포어와 달리, 락에대한 소유권이 있습니다.
        
    - 모니터란 무엇인가요?
        
        뮤텍스와 조건 변수를 가지고 있는 동기화 매커니즘으로 뮤텍스와 모니터 모두 상호 배제를 함으로써 임계 구역에 하나의 쓰레드만 들어갈 수 있습니다.
        
    - 뮤텍스와 모니터의 차이는 무엇인가요?
        
        뮤텍스가 다른 프로세스나 스레드 간에 동기화를 위해 사용하는 것과 달리, 모니터는 하나의 프로세스에서 다른 스레드 간에 동기화를 진행할 때 사용합니다.
        
        따라서 뮤텍스는 운영체제 커널에 의해 제공되기에 느리고 모니터는 프레임워크나 라이브러리 그 자체에서 제공되기에 가볍고 빠릅니다.
        
    - 세마포어와 모니터의 차이는 무엇인가요?
        
        세마포어는 카운트라는 변수값으로 프로그래머가 상호 배제나 정렬의 목적으로 사용시 매번 값을 따로 지정해줘야 하는 등 번거로습니다. 하지만 모니터는 자바에서 기본적으로 모든 객체에 제공되고 이러한 일들이 캡슐화되어 있어서 개발자는 synchronized, wait(), notify() 등의 키워드를 이용해 좀 더 편하게 동기화할 수 있습니다.
        
- 인터럽트
    - 어떨때 인터럽트가 발생하나요?
        
        하드웨어 장치와 CPU 사이의 연결이 필요하거나 CPU의 서비스를 요청해야 할 경우, 프로그램이 명령을 수행하기 위해서는 CPU를 할당받아야 하기 때문에 CPU내에 있는 인터럽트 라인을 세팅하여 인터럽트를 발생시킵니다.
        
    - CPU는 인터럽트 라인을 어떤식으로 확인하나요?
        
        CPU는 매번 PC가 가리키고 있는 곳의 명령을 수행한 뒤, 다음 명령을 수행하기 전에 인터럽트 라인이 세팅되어 있는지 확인합니다.
        
    - 인터럽트의 종류에는 어떤것들이 있나요?
        
        일반적인 인터럽트는 하드웨어 인터럽트 입니다. 이것은 하드웨어 컨트롤러가 CPU의 서버스를 요청하기 위해 발생시킵니다. 그 다음으로는 소프트웨어 인터럽트가 있습니다. 이는 트랩이라고 불리며, 예외 상황이나 시스템 콜 발생시 발생합니다. 참고로 하드웨어와 소프트웨어 인터럽트는 인터럽트를 발생시키는 주체에 따라 구분됩니다.
        
        예외 상황이란 프로그램이 허용되지 않은 연산을 수행하려고 할 때 자동적으로 발생합니다. 운영체제는 예외 상황이 발생했을 때 CPU의 제어권을 획득해 이 상황에 대한 조취를 취합니다. 이를 위해서 예외 상황에 대한 처리 루틴을 자신의 코드 영역에 가지고 있습니다. 
        
        시스템 콜이란 사용자 프로세스가 운영체제의 서비스를 요청하기 위해 커널의 함수를 호출하는 것입니다. 사용자 프로세스가 직접 특권 명령을 수행할 수 없으므로 특권 명령을 수행하려 할 때 시스템 콜을 사용합니다.
        
    - 인터럽트 벡터와 인터럽트 핸들러는 어떤 역할을 수행하나요?
        
        인터럽트 벡터는 여러가지 인터럽트에 대해 해당 인터럽트 발생 시 처리해야 할 루틴의 주소를 보관하고 있는 테이블로, 일종의 함수를 가리키는 포인터입니다.
        
        인터럽트 핸들러는 실제 인터럽트를 처리하기 위한 루틴으로 인터럽트 서비스 루틴이라고도 합니다. 운영체제 코드 내부에 존재하는 각종 인터럽트별로 처리해야 할 내용을 가리킵니다.
        
- 시스템 콜
    - 커널 모드란 무엇인가요?
        
        PC가 운영체제가 존재하는 부분을 가리키고 있다면, 현재 운영체제의 코드를 수행중이며 CPU가 커널 모드에서 수행 중이라고 말합니다.
        
    - 사용자 모드란 무엇인가요?
        
        PC가 사용자 프로그램이 존재하는 메모리 위치를 가리키고 있다면, 현재 사용자 프로그램의 코드를 수행중이며 CPU가 사용자 모드에서 수행 중이라고 말합니다.
        
    - 일반 명령이란 무엇인가요?
        
        메모리에서 자료를 읽어와서 CPU에서 계산하고, 결과를 메모리에 쓰는 일련의 명령들을 말합니다. 모든 프로그램이 수행할 수 있고 사용자 모드에서 실행됩니다.
        
    - 특권 명령이란 무엇인가요?
        
        보안이 필요한 명령으로 입출력 장치, 타이머 등 각종 장치를 접근하는 명령을 말합니다. 커널 모드에서 실행됩니다.
        
    - 일반 명령, 특권 명령을 각각 어떻게 스위칭하나요?
        
        CPU 내에 모드 비트를 두어 두 명령을 수행합니다.
        
    - 시스템 콜이란 무엇인가요?
        
        사용자 프로그램이 특권 명령을 수행해야 할 때 이를 실행할 권한이 없으므로 운영체제에게 특권 명령의 대행을 요청합니다. 이를 시스템 콜이라고 부릅니다.
        
    - 시스템 콜의 동작 과정을 설명해주세요
        
        시스템 콜은 여러 종류의 기능으로 나뉘어져 있습니다. 각 시스템 콜에는 번호가 할당되고 시스템 콜 인터페이스는 이러한 번호에 따라 인덱스되는 테이블을 유지합니다. 
        
        만약 시스템 콜 발생시 매개변수들을 운영체제에 전달하기 위해서는 3가지 방법이 있습니다. 우선 매개변수를 CPU 레지스터 내에 전달하는 방법이 있는데, 이 경우 매개변수의 개수가 CPU 내의 레지스터 개수보다 많을 수 있습니다. 매개변수의 개수나 길이에 제한이 없는 방법으로는 매개변수가 위치한 메모리의 주소가 레지스터에 전달되는 방법이 있습니다. 또는 프로그램에 의해 스택으로 전달될 수 있습니다. 
        
    - 시스템 콜의 유형에는 어떤것들이 있나요?
        
        프로세스 특권 모드를 사용해 직접적으로 프로세스 제어가 가능한 프로세스 제어, 파일 조작, 장치 관리, 정보 유지, 통신의 5가지 유형이 있습니다.
        
- 교착 상태
    - 교착 상태란 무엇인가요?
        
        한정된 자원을 여러 곳에서 사용하려고 할 때 발생하는 문제입니다. 즉, 프로세스가 자원을 얻지 못해 계속 기다리는 상태입니다.
        
    - 교착 상태는 언제 발생하나요?
        
        멀티 프로그래밍 환경에서, 한정된 자원을 얻기 위해 서로 경쟁하는 상황이 발생할 때 발생합니다. 이때 프로세스들은 대기 상태로 들어가고 실행 상태로 변경될 수 없을 경우, 교착 상태가 발생했다고 얘기합니다.
        
    - 멀티 프로그래밍이란 무엇인가요?
        
        단일 프로세서 상에서 여러개의 프로세스가 수행되는 것을 의미합니다.
        
    - 교착 상태 발생 조건은 정확하게 무엇인가요?
        
        교착 상태는 상호 배제, 점유 대기, 비선점, 순환 대기의 4가지 조건이 동시에 성립할 때 발생합니다. 
        
        상호 배제란 자원은 한 번에 한 프로세스만이 사용할 수 있다는 조건입니다. 
        
        점유 대기란 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용하고 있는 자원을 추가로 점유하기 위해 대기하고 있는 프로세스가 있어야 한다는 조건입니다.
        
        비선점이란 다른 프로세스에 할당된 자원은 사용이 끝나서 반납할 때까지 강제로 빼앗을 수 없다는 조건입니다.
        
        순환 대기란 프로세스의 집합에서 0은 1이 점유한 자원을 대기하고 1은 2가 점유한 자원을 대기하고 N은 0이 점유한 자원을 대기해야 한다는 조건입니다.
        
    - 교착상태는 어떻게 예방할 수 있나요?
        
        교착 상태 발생 조건 중 하나를 제거함으로써 예방이 가능합니다. 각 조건을 뒤집어보자면, 상호 배제 부정은 여러 프로세스가 공유 자원을 사용하도록 하는 것입니다. 점유 대기 부정은 프로세스가 실행되기 전 필요한 모든 자원을 할당하도록 하는 것입니다. 비선점 부정은 자원 점유 중인 프로세스가 다른 자원을 요구할 때, 점유 중인 자원을 반납하고 요구한 자원을 사용하기 위해 기다리게 하는 것입니다. 순환 대기 부정은 자원에 고유한 번호를 할당하고 번호 순서대로 자원을 요구하도록 하는 것입니다. 하지만 이는 자원의 낭비가 심하다는 단점이 존재합니다.
        
    - 교착상태는 어떻게 회피할 수 있나요?
        
        이는 은행원 알고리즘을 사용해 회피할 수 있습니다. 은행원 알고리즘이란, 프로세스가 자원을 요구할 때 시스템은 자원을 할당한 후에도 안정 상태로 남아있게 되는지를 검사하여 안정 상태에 있으면 자원을 할당하고 그렇지 않으면 다른 프로세스들이 자원을 해제할 때까지 대기하는 기법입니다. 
        
    - 교착상태는 어떻게 탐지할 수 있나요?
        
        프로세스와 자원과의 관계를 나타내는 자원 할당 그래프를 통해 탐지할 수 있습니다. 하지만 자원을 요청할 때마다 탐지 알고리즘을 실행하므로 오버헤드가 발생한다는 단점이 있습니다.
        
    - 교착상태는 어떻게 회복할 수 있나요?
